After generating private.key, replace this file with
openssl rsa -in private.key -pubout -out public.pem > public.pem